<div>
  <div class="modal-header">
    <h5 class="title f-16" id="defaultModalLabel">
      <div *ngIf="loadingApi" class="loader loader--style1" title="0">
        <svg
          version="1.1"
          id="loader-1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          width="20px"
          height="20px"
          viewBox="0 0 40 40"
          enable-background="new 0 0 40 40"
          xml:space="preserve"
        >
          <path
            opacity="0.2"
            fill="#000"
            d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946
              s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634
              c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"
          />
          <path
            fill="#000"
            d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0 C22.32,8.481,24.301,9.057,26.013,10.047z"
          >
            <animateTransform
              attributeType="xml"
              attributeName="transform"
              type="rotate"
              from="0 20 20"
              to="360 20 20"
              dur="0.5s"
              repeatCount="indefinite"
            />
          </path>
        </svg>
      </div>
      {{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.LABEL' | translate }}
    </h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="_close()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="apiConnectionForm">
      <input type="hidden" class="form-control" formControlName="id" />
      <div class="row clearfix">
        <div class="col-md-12 form-control-label">
          <label>{{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.CN' | translate }}</label>
        </div>
      </div>
      <div id="functionList">
        <div id="functionListRow1" class="row clearfix">
          <div class="col-md-12">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="name" formControlName="name" />
              <div
                *ngIf="
                  apiConnectionForm.controls['name'].touched && apiConnectionForm.controls['name'].errors?.required
                "
              >
                <p class="text-danger" style="font-size: 11px">
                  {{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.CN_V' | translate }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row clearfix">
        <div class="col-md-12 form-control-label">
          <label>{{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.PROTOCOL' | translate }}</label>
        </div>
      </div>
      <div id="functionList">
        <div id="functionListRow1" class="row clearfix">
          <div class="col-md-12">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="protocol" formControlName="protocol" />
              <div
                *ngIf="
                  apiConnectionForm.controls['protocol'].touched &&
                  apiConnectionForm.controls['protocol'].errors?.required
                "
              >
                <p class="text-danger" style="font-size: 11px">
                  {{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.PROTOCOL_V' | translate }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row clearfix">
        <div class="col-md-12 form-control-label">
          <label>{{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.H' | translate }}</label>
        </div>
      </div>
      <div id="functionList">
        <div id="functionListRow1" class="row clearfix">
          <div class="col-md-12">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="host" formControlName="host" />
              <div
                *ngIf="
                  apiConnectionForm.controls['host'].touched && apiConnectionForm.controls['host'].errors?.required
                "
              >
                <p class="text-danger" style="font-size: 11px">
                  {{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.H_V' | translate }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row clearfix">
        <div class="col-md-12 form-control-label">
          <label>{{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.PORT' | translate }}</label>
        </div>
      </div>
      <div id="functionList">
        <div id="functionListRow1" class="row clearfix">
          <div class="col-md-12">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="port" formControlName="port" />
              <div
                *ngIf="
                  apiConnectionForm.controls['port'].touched && apiConnectionForm.controls['port'].errors?.required
                "
              >
                <p class="text-danger" style="font-size: 11px">
                  {{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.PORT_V' | translate }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row clearfix">
        <div class="col-md-12 form-control-label">
          <label>{{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.P' | translate }}</label>
        </div>
      </div>
      <div id="functionList">
        <div id="functionListRow1" class="row clearfix">
          <div class="col-md-12">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="path" formControlName="path" />
              <div
                *ngIf="
                  apiConnectionForm.controls['path'].touched && apiConnectionForm.controls['path'].errors?.required
                "
              >
                <p class="text-danger" style="font-size: 11px">
                  {{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.P_V' | translate }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row clearfix">
        <div class="col-md-12 form-control-label">
          <label>Headers</label>
        </div>
      </div>
      <div id="functionList">
        <div id="functionListRow1" class="row clearfix">
          <div class="col-md-12">
            <div class="form-group">
              <button
                (click)="setApiHeaders()"
                class="btn btn-info btn-outline btn-icon btn-lg btn-outline-mini w-100"
                type="button"
              >
                Add Headers<i class="zmdi zmdi-plus f-12 ml-1"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="row clearfix">
        <div class="col-md-12 form-control-label">
          <label>Query Strings</label>
        </div>
      </div>
      <div id="functionList">
        <div id="functionListRow1" class="row clearfix">
          <div class="col-md-12">
            <div class="form-group">
              <button
                (click)="setApiQueryString()"
                class="btn btn-info btn-outline btn-icon btn-lg btn-outline-mini w-100"
                type="button"
              >
                Add Query String<i class="zmdi zmdi-plus f-12 ml-1"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </form>
    <button
      (click)="testApiConnection()"
      class="btn btn-info btn-outline btn-icon btn-lg btn-outline-mini w-100"
      type="button"
    >
      {{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.API_CONN.TC' | translate }}
      <i class="zmdi zmdi-input-power ml-2"></i>
    </button>
  </div>
  <div class="modal-footer">
    <button class="btn btn-neutral btn-simple btn-sm close px-0" type="button" data-dismiss="modal" (click)="_close()">
      {{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.C' | translate }}
    </button>
    <button class="btn btn-info btn-outline btn-sm" type="button" (click)="saveApiConnection()">
      {{ 'MODULE.DATA_PROCESSING.COMMON.MODAL.S' | translate }}
    </button>
  </div>
</div>
